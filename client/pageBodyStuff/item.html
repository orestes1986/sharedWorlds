<template name="bodyEditor">
	<div class="container">
		<div class="row">
			<div>{{> addBody}}</div>
			<div>{{> condition_select_form}}{{> condition_select_value}}</div>
			<div>{{> condition_select_form}}{{> condition_select_numvalue}}</div>
			{{#each bodies}}
				{{#let activebodyid = this._id}}
<!-- 					{{>list_of_pages_form activebodyid=activebodyid}} -->
				<!--       <div class="css-description-area editable-text-trigger">Pages content: {{> editableText options=optionsHelper}}</div> -->
					<span class="css-body js-pages-body col-xs-12 col-sm-12 col-md-12 col-lg-12" data-this-id="{{this._id}}">
							<div class="css-conditions-and-time">
                                <span class="css-condition-list">Conditions: {{> conditionList}}</span><br>
                                    <span class="css-body-time">Time:
                                        {{#with get_time activebodyid}}
<!-- 										{{overall}}  -->
<!-- 										{{wholeDate}} -->
                                            <br />
                                            {{#if this.millenia}}
                                                <span class="css-editable-time">
                                                    Millenia 
                                                    <input type="number" class="js-editable-time" id="time-millenia"  value="{{this.millenia}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.centuries}}
                                                <span class="css-editable-time">
                                                    Centuries 
                                                    <input type="number" class="js-editable-time" id="time-centuries"  value="{{this.centuries}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.decades}}
                                                <span class="css-editable-time">
                                                    Decades 
                                                    <input type="number" class="js-editable-time" id="time-decades" value="{{this.decades}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.years}}
                                                <span class="css-editable-time">
                                                Years 
                                                <input type="number" class="js-editable-time" id="time-years" value="{{this.years}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.months}}
                                                <span class="css-editable-time">
                                                Months 
                                                <input type="number" class="js-editable-time" id="time-months" value="{{this.months}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.weeks}}
                                                <span class="css-editable-time">
                                                Weeks 
                                                <input type="number" class="js-editable-time" id="time-weeks" value="{{this.weeks}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.days}}
                                                <span class="css-editable-time">
                                                Days 
                                                <input type="number" class="js-editable-time" id="time-days" value="{{this.days}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.hours}}
                                                <span class="css-editable-time">
                                                Hours 
                                                <input type="number" class="js-editable-time" id="time-hours" value="{{this.hours}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.minutes}}
                                                <span class="css-editable-time">
                                                Minutes 
                                                <input type="number" class="js-editable-time" id="time-minutes" value="{{this.minutes}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.seconds}}
                                                <span class="css-editable-time">
                                                Seconds
                                                <input type="number" class="js-editable-time" id="time-seconds" value="{{this.seconds}}">
                                                </span>
                                            {{/if}}
                                            {{#if this.miliseconds}}
                                                <span class="css-editable-time">
                                                Miliseconds 
                                                <input type="number" class="js-editable-time" id="time-miliseconds" value="{{this.miliseconds}}">
                                                </span>
                                            {{/if}}
                                        {{/with}}
                                    </span>
                                </div>
<!-- 							    <div class="css-description-area editable-text-trigger"><h4>{{> editableText collection="pagesBodies" field="title"}}</h4></div> -->
							{{#each texts}}
								{{#let text_index=@index}}
										{{#each paragraphs text_index}}
										{{#let paragraph_Index=@index}}
							<div class="css-body-area css-description-area editable-text-trigger"> {{> editableText context=../.. collection='pagesBodies' field=(get_paragraph text_index paragraph_Index) wysiwyg=true}}
							
<!-- 							{{> editableText context=../.. collection='cyoaParams' field=(get_value data_index value_Index)}}, -->
 </div>
<!-- 																			Prams:{{> editableText context=../.. collection='cyoaParams' field='data.0.values.0.value'}}, -->
{{/let}}
										{{/each}}{{/let}}
										{{/each}}
				<!-- 			<h1>This is this<br>{{this.body}}</h1> -->
						<div class="css-remove-body">{{> removeBody}}</div><br>
						Choices: {{> addPage bodyid=this._id}}
						{{> choiseList bodyid=this._id}}
					</span> 
				<!-- 		{{body}} -->
				{{/let}}
			{{/each}}
		</div>
	</div>
</template>
<template name="addBody">
	{{#if currentUser}}
		<button class="glyphicon glyphicon-plus js-add-body">
		</button>
	{{/if}}
</template>
<template name="removeBody">
	{{#if currentUser}}
		<button class="glyphicon glyphicon-minus js-remove-body">
		</button>
	{{/if}}
</template>
<template name="condition_select_form">
	<div class="modal fade" id="condition_select_form">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-body">
					<div class="form-group">
						{{#each param}}
							<a href="#" class="js-param-to-choose">{{title}}, </a>
						{{/each}}
						<br>
						{{#each numparam}}
							<a href="#" class="js-numparam-to-choose">{{title}}, </a>
						{{/each}}
					</div>
				</div>
			</div>
		</div>
	</div>
</template>
